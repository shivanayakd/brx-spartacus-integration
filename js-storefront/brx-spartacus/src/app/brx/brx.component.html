<br-page
  [configuration]="configuration"
  [mapping]="mapping"
  (httpError)="onBrxHttpError($event)"
  (state)="setVisitor($event)"
>
  <ng-template let-page="page">
    <cx-storefront></cx-storefront>
    <ng-template
      cxOutletRef="cx-storefront"
      [cxOutletPos]="outletPosition.REPLACE"
    >
      <app-header></app-header>
      <ng-container *ngIf="!brxHttpError" brComponent="main"></ng-container>
    </ng-template>
    <app-footer></app-footer>
  </ng-template>
</br-page>
